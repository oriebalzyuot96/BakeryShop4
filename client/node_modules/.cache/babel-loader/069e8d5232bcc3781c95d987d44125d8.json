{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\baker\\\\Desktop\\\\BakeryShop4\\\\client\\\\src\\\\component\\\\Cart.js\";\n// import React, { useContext, useEffect } from 'react'\n// import { useHistory } from 'react-router-dom'\n// import { makeStyles } from '@material-ui/core/styles';\n// import Table from '@material-ui/core/Table';\n// import TableBody from '@material-ui/core/TableBody';\n// import TableCell from '@material-ui/core/TableCell';\n// import TableContainer from '@material-ui/core/TableContainer';\n// import TableHead from '@material-ui/core/TableHead';\n// import TableRow from '@material-ui/core/TableRow';\n// import Paper from '@material-ui/core/Paper';\n// import Typography from '@material-ui/core/Typography';\n// import Container from '@material-ui/core/Container';\n// import DeleteIcon from '@material-ui/icons/Delete'\n// import IconButton from '@material-ui/core/IconButton'\n// import ShopContext from '../context/shop-context'\n// const useStyles = makeStyles({\n//   table: {\n//     minWidth: 650,\n//   },\n//   title: {\n//     flex: '1 1 100%',\n//     padding: '1rem'\n//   },\n//   container: {\n//     marginTop: '3.3rem'\n//   }\n// });\n// const CartPage = props => {\n//   const history = useHistory()\n//   const classes = useStyles()\n//   const context = useContext(ShopContext)\n//   const totalItems = context.cart.reduce((count, curItem) => {\n//     return count + curItem.quantity\n//   }, 0)\n//   React.useEffect(() => {\n//     // there is no token, redirect to login page\n//     if (localStorage.getItem('loggedInToken') === null) {\n//       history.push('/login')\n//     }\n//   }, [])\n//   return (\n//     <section>\n//       <Container className={classes.container}>\n//     <TableContainer component={Paper}>\n//       <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n//           Total Items: {totalItems}\n//         </Typography>\n//       <Table className={classes.table} aria-label=\"simple table\">\n//         <TableHead>\n//           <TableRow>\n//             <TableCell>Name</TableCell>\n//             <TableCell align=\"right\">Category</TableCell>\n//             <TableCell align=\"right\">Price</TableCell>\n//             <TableCell align=\"right\">Quantity</TableCell>\n//             <TableCell align=\"right\">Action</TableCell>\n//           </TableRow>\n//         </TableHead>\n//         <TableBody>\n//           {context.cart.length > 0 ? context.cart.map((cartItem, idx) => (\n//             <TableRow key={idx}>\n//               <TableCell component=\"th\" scope=\"row\">\n//                 {cartItem.name}\n//               </TableCell>\n//               <TableCell align=\"right\">{cartItem.category}</TableCell>\n//               <TableCell align=\"right\">{cartItem.price}</TableCell>\n//               <TableCell align=\"right\">{cartItem.quantity}</TableCell>\n//               <IconButton onClick={context.removeProductFromCart.bind(this, cartItem._id)}>\n//                 <DeleteIcon className={classes.icon} />\n//               </IconButton>\n//             </TableRow>\n//           )): (\n//             <Typography className={classes.title} variant=\"p\" id=\"tableTitle\" component=\"p\">\n//               No item in your shopping cart\n//             </Typography>\n//           )}\n//         </TableBody>\n//       </Table>\n//     </TableContainer>\n//     {/* // <React.Fragment>\n//     //   <span>totalItems : {totalItems}</span>\n//     //   <main>\n//     //     {context.cart.length <= 0 && <p>No Item in the Cart!</p>}\n//     //     <ul>\n//     //       {context.cart.map((cartItem, idx) => (\n//     //         <li key={idx}>\n//     //           <div>\n//     //             <strong>{cartItem.name}</strong> - ${cartItem.price} ({cartItem.quantity})\n//     //           </div>\n//     //           <div>\n//     //             <button onClick={context.removeProductFromCart.bind(this, cartItem._id)}>\n//     //               Remove from Cart\n//     //             </button>\n//     //           </div>\n//     //         </li>\n//     //       ))}\n//     //     </ul>\n//     //   </main>\n//     // </React.Fragment> */}\n//     </Container>\n//     </section>\n//   )\n// }\n// export default CartPage\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport ShopContext from '../context/shop-context';\nconst TAX_RATE = 0.08;\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650\n  },\n  title: {\n    flex: '1 1 100%',\n    padding: '1rem'\n  },\n  container: {\n    marginTop: '3.3rem'\n  }\n});\n\nfunction ccyFormat(num) {\n  return `${num.toFixed(2)} JOD`;\n}\n\nfunction subtotal(items) {\n  return items.map(({\n    price,\n    quantity\n  }) => price * quantity).reduce((sum, i) => sum + i, 0);\n}\n\nexport default function SpanningTable() {\n  const classes = useStyles();\n  const context = React.useContext(ShopContext);\n  const history = useHistory();\n  const [cartItems, setCartItems] = React.useState(JSON.parse(localStorage.getItem(\"cart\")) || []);\n  let invoiceSubtotal = subtotal(cartItems);\n  let invoiceTaxes = TAX_RATE * invoiceSubtotal;\n  let invoiceTotal = invoiceTaxes + invoiceSubtotal;\n  let localCart = localStorage.getItem(\"cart\");\n  React.useEffect(() => {\n    // there is no token, redirect to login page\n    if (localStorage.getItem('loggedInToken') === null) {\n      history.push('/login');\n    } //turn it into js\n\n\n    localCart = JSON.parse(localCart); // //load persisted cart into state if it exists\n\n    if (localCart) {\n      setCartItems(localCart);\n      invoiceSubtotal = subtotal(localCart);\n    }\n  }, [localCart]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"spanning table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    colSpan: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, \"Details\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }, \"Action\")), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, \"Desc\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, \"Qty.\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, \"Unit\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, \"Sum\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, cartItems.length > 0 && cartItems.map((cartItem, idx) => /*#__PURE__*/React.createElement(TableRow, {\n    key: idx,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }, cartItem.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, cartItem.quantity), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }, cartItem.price), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  }, ccyFormat(cartItem.price * cartItem.quantity)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: context.removeProductFromCart.bind(this, cartItem._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    className: classes.icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }))))), cartItems.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    rowSpan: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  }, \"Subtotal\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }, ccyFormat(invoiceSubtotal))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }, \"Tax\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 19\n    }\n  }, `${(TAX_RATE * 100).toFixed(0)} %`), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, ccyFormat(invoiceTaxes))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 19\n    }\n  }, ccyFormat(invoiceTotal)))), cartItems.length < 1 && /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    variant: \"p\",\n    id: \"tableTitle\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, \"No item in your shopping cart\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 1\n    }\n  }, \" buy\")));\n}","map":{"version":3,"sources":["C:/Users/baker/Desktop/BakeryShop4/client/src/component/Cart.js"],"names":["React","useHistory","makeStyles","Container","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","DeleteIcon","IconButton","Typography","Button","ShopContext","TAX_RATE","useStyles","table","minWidth","title","flex","padding","container","marginTop","ccyFormat","num","toFixed","subtotal","items","map","price","quantity","reduce","sum","i","SpanningTable","classes","context","useContext","history","cartItems","setCartItems","useState","JSON","parse","localStorage","getItem","invoiceSubtotal","invoiceTaxes","invoiceTotal","localCart","useEffect","push","length","cartItem","idx","name","removeProductFromCart","bind","_id","icon"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,MAAMC,QAAQ,GAAG,IAAjB;AACA,MAAMC,SAAS,GAAGf,UAAU,CAAC;AAC3BgB,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GADoB;AAI3BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,UADD;AAELC,IAAAA,OAAO,EAAE;AAFJ,GAJoB;AAQ3BC,EAAAA,SAAS,EAAE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","sourcesContent":["// import React, { useContext, useEffect } from 'react'\n// import { useHistory } from 'react-router-dom'\n// import { makeStyles } from '@material-ui/core/styles';\n// import Table from '@material-ui/core/Table';\n// import TableBody from '@material-ui/core/TableBody';\n// import TableCell from '@material-ui/core/TableCell';\n// import TableContainer from '@material-ui/core/TableContainer';\n// import TableHead from '@material-ui/core/TableHead';\n// import TableRow from '@material-ui/core/TableRow';\n// import Paper from '@material-ui/core/Paper';\n// import Typography from '@material-ui/core/Typography';\n// import Container from '@material-ui/core/Container';\n// import DeleteIcon from '@material-ui/icons/Delete'\n// import IconButton from '@material-ui/core/IconButton'\n\n// import ShopContext from '../context/shop-context'\n\n// const useStyles = makeStyles({\n//   table: {\n//     minWidth: 650,\n//   },\n//   title: {\n//     flex: '1 1 100%',\n//     padding: '1rem'\n//   },\n//   container: {\n//     marginTop: '3.3rem'\n//   }\n// });\n\n// const CartPage = props => {\n//   const history = useHistory()\n//   const classes = useStyles()\n//   const context = useContext(ShopContext)\n\n//   const totalItems = context.cart.reduce((count, curItem) => {\n//     return count + curItem.quantity\n//   }, 0)\n\n//   React.useEffect(() => {\n//     // there is no token, redirect to login page\n//     if (localStorage.getItem('loggedInToken') === null) {\n//       history.push('/login')\n//     }\n//   }, [])\n\n//   return (\n//     <section>\n//       <Container className={classes.container}>\n//     <TableContainer component={Paper}>\n//       <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n//           Total Items: {totalItems}\n//         </Typography>\n//       <Table className={classes.table} aria-label=\"simple table\">\n//         <TableHead>\n//           <TableRow>\n//             <TableCell>Name</TableCell>\n//             <TableCell align=\"right\">Category</TableCell>\n//             <TableCell align=\"right\">Price</TableCell>\n//             <TableCell align=\"right\">Quantity</TableCell>\n//             <TableCell align=\"right\">Action</TableCell>\n//           </TableRow>\n//         </TableHead>\n//         <TableBody>\n//           {context.cart.length > 0 ? context.cart.map((cartItem, idx) => (\n//             <TableRow key={idx}>\n//               <TableCell component=\"th\" scope=\"row\">\n//                 {cartItem.name}\n//               </TableCell>\n//               <TableCell align=\"right\">{cartItem.category}</TableCell>\n//               <TableCell align=\"right\">{cartItem.price}</TableCell>\n//               <TableCell align=\"right\">{cartItem.quantity}</TableCell>\n//               <IconButton onClick={context.removeProductFromCart.bind(this, cartItem._id)}>\n//                 <DeleteIcon className={classes.icon} />\n//               </IconButton>\n//             </TableRow>\n//           )): (\n//             <Typography className={classes.title} variant=\"p\" id=\"tableTitle\" component=\"p\">\n//               No item in your shopping cart\n//             </Typography>\n//           )}\n//         </TableBody>\n//       </Table>\n//     </TableContainer>\n//     {/* // <React.Fragment>\n//     //   <span>totalItems : {totalItems}</span>\n//     //   <main>\n//     //     {context.cart.length <= 0 && <p>No Item in the Cart!</p>}\n//     //     <ul>\n//     //       {context.cart.map((cartItem, idx) => (\n//     //         <li key={idx}>\n//     //           <div>\n//     //             <strong>{cartItem.name}</strong> - ${cartItem.price} ({cartItem.quantity})\n//     //           </div>\n//     //           <div>\n//     //             <button onClick={context.removeProductFromCart.bind(this, cartItem._id)}>\n//     //               Remove from Cart\n//     //             </button>\n//     //           </div>\n//     //         </li>\n//     //       ))}\n//     //     </ul>\n//     //   </main>\n//     // </React.Fragment> */}\n//     </Container>\n//     </section>\n//   )\n// }\n// export default CartPage\n\n\nimport React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container';\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\"\nimport ShopContext from '../context/shop-context'\nconst TAX_RATE = 0.08\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  title: {\n    flex: '1 1 100%',\n    padding: '1rem'\n  },\n  container: {\n    marginTop: '3.3rem'\n  }\n});\nfunction ccyFormat(num) {\n  return `${num.toFixed(2)} JOD`\n}\nfunction subtotal(items) {\n  return  items.map(({ price, quantity}) => price * quantity).reduce((sum, i) => sum + i, 0)\n}\nexport default function SpanningTable() {\n  const classes = useStyles()\n  const context = React.useContext(ShopContext)\n  const history = useHistory()\n  const [cartItems, setCartItems] = React.useState(JSON.parse(localStorage.getItem(\"cart\"))|| [])\n  let invoiceSubtotal = subtotal(cartItems)\n  let invoiceTaxes = TAX_RATE * invoiceSubtotal\n  let invoiceTotal = invoiceTaxes + invoiceSubtotal\n  let localCart = localStorage.getItem(\"cart\");\n  React.useEffect(() => {\n    // there is no token, redirect to login page\n    if (localStorage.getItem('loggedInToken') === null) {\n      history.push('/login')\n    }\n    //turn it into js\n    localCart = JSON.parse(localCart);\n    // //load persisted cart into state if it exists\n    if (localCart) {\n      setCartItems(localCart)\n      invoiceSubtotal = subtotal(localCart)\n    }\n  }, [localCart])\n  return (\n    <div>\n    <div>\n    <section>\n      <Container className={classes.container}>\n        <TableContainer component={Paper}>\n          <Table className={classes.table} aria-label=\"spanning table\">\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"center\" colSpan={3}>\n                  Details\n                </TableCell>\n                <TableCell align=\"right\">Price</TableCell>\n                <TableCell align=\"right\">Action</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>Desc</TableCell>\n                <TableCell align=\"right\">Qty.</TableCell>\n                <TableCell align=\"right\">Unit</TableCell>\n                <TableCell align=\"right\">Sum</TableCell>\n                <TableCell align=\"right\"></TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {cartItems.length > 0 && cartItems.map((cartItem, idx) => (\n                <TableRow key={idx}>\n                  <TableCell>{cartItem.name}</TableCell>\n                  <TableCell align=\"right\">{cartItem.quantity}</TableCell>\n                  <TableCell align=\"right\">{cartItem.price}</TableCell>\n                  <TableCell align=\"right\">{ccyFormat(cartItem.price * cartItem.quantity)}</TableCell>\n                  <TableCell align=\"right\">\n                  <IconButton onClick={context.removeProductFromCart.bind(this, cartItem._id)}>\n                    <DeleteIcon className={classes.icon} />\n                  </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {cartItems.length > 0 && (\n              <>\n                <TableRow>\n                  <TableCell rowSpan={3} />\n                  <TableCell colSpan={2}>Subtotal</TableCell>\n                  <TableCell align=\"right\">{ccyFormat(invoiceSubtotal)}</TableCell>\n                </TableRow>\n               <TableRow>\n                  <TableCell>Tax</TableCell>\n                  <TableCell align=\"right\">{`${(TAX_RATE * 100).toFixed(0)} %`}</TableCell>\n                  <TableCell align=\"right\">{ccyFormat(invoiceTaxes)}</TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell colSpan={2}>Total</TableCell>\n                  <TableCell align=\"right\">{ccyFormat(invoiceTotal)}</TableCell>\n                </TableRow>\n              </>\n              )}\n              {cartItems.length < 1 && (\n                <Typography className={classes.title} variant=\"p\" id=\"tableTitle\" component=\"p\">\n                  No item in your shopping cart\n                </Typography>\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n    </Container>  \n    </section>\n    </div>\n    <div>\n<Button> buy</Button>\n    </div>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}